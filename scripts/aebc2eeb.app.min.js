"use strict";angular.module("tonyalaribe.Oddjobs",["ngAnimate","ngCookies","ngResource","ngRoute","ngTouch","mgcrea.ngStrap","ui.router","restangular"]).constant("version","v0.1.0").config(["RestangularProvider",function(a){a.setBaseUrl("http://192.168.137.83:3000"),a.setRequestSuffix(""),a.setDefaultHttpFields({headers:{"Content-Type":"application/x-www-form-urlencoded"}})}]).config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("home",{url:"/",templateUrl:"views/home.html"}).state("signup",{url:"/signup",templateUrl:"views/signup.html"}).state("student",{url:"/student",templateUrl:"views/student.html"})}]).factory("authInterceptor",["$rootScope","$q","$window",function(a,b,c){return{request:function(a){return a.headers=a.headers||{},c.sessionStorage.token&&(a.headers.Authorization="Bearer"+c.sessionStorage.token),a},response:function(a){return 401===a.status,a||b.when(a)}}}]).config(["$httpProvider",function(a){a.interceptors.push("authInterceptor")}]),angular.module("tonyalaribe.Oddjobs").controller("MainCtrl",["$scope","$location","version",function(a,b,c){a.$path=b.path.bind(b),a.version=c}]).controller("signupCtrl",["$scope","Restangular",function(a,b){var c=b.all("user/register");a.submit=function(){var b={name:a.name,dept:a.dpt,email:a.email,username:a.user,password:a.pwd,displayImage:a.image};console.log(b),c.post(b).then(function(){console.log("worked")})}}]).controller("signinCtrl",["$scope","$window","Restangular",function(a,b,c){var d={username:a.username,password:a.password};a.signin=function(){var a=c.all("/signin");a.post(d).then(function(a){b.sessionStorage.token=a.token},function(){delete b.sessionStorage.token})}}]);